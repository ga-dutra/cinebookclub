{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Driven/desenv_web/autoral-front/src/components/BookBox.js\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport ReactStars from \"react-rating-stars-component\";\nimport { useState } from \"react\";\nimport { DebounceInput } from \"react-debounce-input\";\nimport useToken from \"../hooks/useToken\";\nimport { updateGradeOrReviewOrDate } from \"../services/services\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookBox(_ref) {\n  _s();\n  let {\n    book\n  } = _ref;\n  const token = useToken();\n  async function ratingChanged(newRating) {\n    try {\n      await updateGradeOrReviewOrDate(token, book.book_api_id, {\n        newGrade: newRating\n      });\n      toast(\"Nota atualizada com sucesso\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  async function updateDate(newDate) {\n    try {\n      await updateGradeOrReviewOrDate(token, book.book_api_id, {\n        newReadingDate: newDate\n      });\n      toast(\"Data de leitura atualizada com sucesso\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  console.log(book);\n  const [isDescriptionOpen, setIsDescriptionOpen] = useState(false);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    isDescriptionOpen: isDescriptionOpen,\n    children: [/*#__PURE__*/_jsxDEV(BookPicture, {\n      src: book.img,\n      alt: `${book.title} poster`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookDescription, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: book.author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RatingWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(BookDescription, {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Lido em: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: book.read_at.slice(0, 10),\n            min: \"2000-01-02\",\n            onChange: e => {\n              updateDate(e);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n        value: Number(book.grade),\n        count: 5,\n        onChange: ratingChanged,\n        size: 24,\n        isHalf: true,\n        emptyIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 22\n        }, this),\n        halfIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-star-half-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this),\n        fullIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this),\n        activeColor: \"#ffb703\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OpenMenuWrapper, {\n      onClick: () => setIsDescriptionOpen(!isDescriptionOpen),\n      children: isDescriptionOpen ? \"-\" : \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), isDescriptionOpen ? /*#__PURE__*/_jsxDEV(ReviewWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Resenha Pessoal:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(BookBox, \"9Q4TQog7wX5s37gLztElC2mCfEk=\", false, function () {\n  return [useToken];\n});\n_c = BookBox;\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: calc(100vw - 30px);\n  margin: 0 15px 26px 15px;\n  border-radius: 8px;\n  height: ${props => props.isDescriptionOpen ? \"160px\" : \"100px\"};\n  background-color: #fcffdf;\n  position: relative;\n  transition-property: height;\n  transition-duration: 2s;\n  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);\n  font-family: \"Lato\", sans-serif;\n  padding: 16px 12px 12px 12px;\n`;\n_c2 = Wrapper;\nconst BookPicture = styled.img`\n  width: 44px !important;\n  height: 68px !important;\n  border-radius: 6px;\n  object-fit: contain;\n`;\n_c3 = BookPicture;\nconst BookDescription = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  padding-left: 8px;\n  max-width: 140px;\n  max-height: 60px;\n  h1 {\n    font-weight: 700;\n    font-size: 17px;\n    margin-bottom: 8px;\n  }\n  h2,\n  span {\n    font-style: italic;\n  }\n  h3 {\n    font-size: 15px;\n    margin-bottom: 2px;\n  }\n`;\n_c4 = BookDescription;\nconst RatingWrapper = styled.div`\n  input {\n    font-family: \"Lato\", sans-serif;\n    font-size: 15px;\n    background-color: #fcffdf;\n    border: none;\n    width: 110px;\n  }\n  textarea:focus,\n  input:focus {\n    box-shadow: 0 0 0 0;\n    outline: 0;\n  }\n`;\n_c5 = RatingWrapper;\nconst OpenMenuWrapper = styled.div`\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #38b7ff;\n  position: absolute;\n  bottom: -15px;\n  left: calc(50% - 15px);\n  font-family: \"Barlow Condensed\", sans-serif;\n  font-size: 26px;\n  padding-bottom: 6px;\n  cursor: pointer;\n`;\n_c6 = OpenMenuWrapper;\nconst ReviewWrapper = styled.div`\n  position: absolute;\n  bottom: 20px;\n  max-width: 95%;\n  max-height: 60px;\n\n  input {\n    background-color: #ffffff;\n    height: 20px;\n    width: 100%;\n    border-radius: 8px;\n    border: none;\n    font-size: 19px;\n    align-items: center;\n    padding: 0 15px;\n    margin-top: 12px;\n    word-break: break-all;\n    line-break: auto;\n  }\n`;\n_c7 = ReviewWrapper;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"BookBox\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"BookPicture\");\n$RefreshReg$(_c4, \"BookDescription\");\n$RefreshReg$(_c5, \"RatingWrapper\");\n$RefreshReg$(_c6, \"OpenMenuWrapper\");\n$RefreshReg$(_c7, \"ReviewWrapper\");","map":{"version":3,"names":["styled","ReactStars","useState","DebounceInput","useToken","updateGradeOrReviewOrDate","toast","BookBox","book","token","ratingChanged","newRating","book_api_id","newGrade","error","console","log","updateDate","newDate","newReadingDate","isDescriptionOpen","setIsDescriptionOpen","img","title","author","read_at","slice","e","Number","grade","Wrapper","div","props","BookPicture","BookDescription","RatingWrapper","OpenMenuWrapper","ReviewWrapper"],"sources":["/home/gabriel/Driven/desenv_web/autoral-front/src/components/BookBox.js"],"sourcesContent":["import styled from \"styled-components\";\nimport ReactStars from \"react-rating-stars-component\";\nimport { useState } from \"react\";\nimport { DebounceInput } from \"react-debounce-input\";\nimport useToken from \"../hooks/useToken\";\nimport { updateGradeOrReviewOrDate } from \"../services/services\";\nimport { toast } from \"react-toastify\";\n\nexport default function BookBox({ book }) {\n  const token = useToken();\n  async function ratingChanged(newRating) {\n    try {\n      await updateGradeOrReviewOrDate(token, book.book_api_id, {\n        newGrade: newRating,\n      });\n      toast(\"Nota atualizada com sucesso\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  async function updateDate(newDate) {\n    try {\n      await updateGradeOrReviewOrDate(token, book.book_api_id, {\n        newReadingDate: newDate,\n      });\n      toast(\"Data de leitura atualizada com sucesso\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  console.log(book);\n  const [isDescriptionOpen, setIsDescriptionOpen] = useState(false);\n\n  return (\n    <Wrapper isDescriptionOpen={isDescriptionOpen}>\n      <BookPicture src={book.img} alt={`${book.title} poster`} />\n      <BookDescription>\n        <h1>{book.title}</h1>\n        <h2>{book.author}</h2>\n      </BookDescription>\n      <RatingWrapper>\n        <BookDescription>\n          <h3>\n            <span>Lido em: </span> <br />\n            <input\n              type=\"date\"\n              value={book.read_at.slice(0, 10)}\n              min=\"2000-01-02\"\n              onChange={(e) => {\n                updateDate(e);\n              }}\n            ></input>\n          </h3>\n        </BookDescription>\n\n        <ReactStars\n          value={Number(book.grade)}\n          count={5}\n          onChange={ratingChanged}\n          size={24}\n          isHalf={true}\n          emptyIcon={<i className=\"far fa-star\"></i>}\n          halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n          fullIcon={<i className=\"fa fa-star\"></i>}\n          activeColor=\"#ffb703\"\n        />\n      </RatingWrapper>\n      <OpenMenuWrapper onClick={() => setIsDescriptionOpen(!isDescriptionOpen)}>\n        {isDescriptionOpen ? \"-\" : \"+\"}\n      </OpenMenuWrapper>\n      {isDescriptionOpen ? (\n        <ReviewWrapper>\n          <h1>Resenha Pessoal:</h1>\n          {/* <DebounceInput\n            autoComplete=\"off\"\n            placeholder={`${book.review}`}\n            type=\"text\"\n            name=\"search\"\n            value={\"a\"}\n            onChange={(e) => {}}\n          ></DebounceInput> */}\n          <input type=\"text\"></input>\n        </ReviewWrapper>\n      ) : (\n        \"\"\n      )}\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: calc(100vw - 30px);\n  margin: 0 15px 26px 15px;\n  border-radius: 8px;\n  height: ${(props) => (props.isDescriptionOpen ? \"160px\" : \"100px\")};\n  background-color: #fcffdf;\n  position: relative;\n  transition-property: height;\n  transition-duration: 2s;\n  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);\n  font-family: \"Lato\", sans-serif;\n  padding: 16px 12px 12px 12px;\n`;\n\nconst BookPicture = styled.img`\n  width: 44px !important;\n  height: 68px !important;\n  border-radius: 6px;\n  object-fit: contain;\n`;\n\nconst BookDescription = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  padding-left: 8px;\n  max-width: 140px;\n  max-height: 60px;\n  h1 {\n    font-weight: 700;\n    font-size: 17px;\n    margin-bottom: 8px;\n  }\n  h2,\n  span {\n    font-style: italic;\n  }\n  h3 {\n    font-size: 15px;\n    margin-bottom: 2px;\n  }\n`;\n\nconst RatingWrapper = styled.div`\n  input {\n    font-family: \"Lato\", sans-serif;\n    font-size: 15px;\n    background-color: #fcffdf;\n    border: none;\n    width: 110px;\n  }\n  textarea:focus,\n  input:focus {\n    box-shadow: 0 0 0 0;\n    outline: 0;\n  }\n`;\n\nconst OpenMenuWrapper = styled.div`\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #38b7ff;\n  position: absolute;\n  bottom: -15px;\n  left: calc(50% - 15px);\n  font-family: \"Barlow Condensed\", sans-serif;\n  font-size: 26px;\n  padding-bottom: 6px;\n  cursor: pointer;\n`;\n\nconst ReviewWrapper = styled.div`\n  position: absolute;\n  bottom: 20px;\n  max-width: 95%;\n  max-height: 60px;\n\n  input {\n    background-color: #ffffff;\n    height: 20px;\n    width: 100%;\n    border-radius: 8px;\n    border: none;\n    font-size: 19px;\n    align-items: center;\n    padding: 0 15px;\n    margin-top: 12px;\n    word-break: break-all;\n    line-break: auto;\n  }\n`;\n"],"mappings":"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AQ;AAAA;AAAA,KADAG,OAAO;AAkF/B,MAAMuB,OAAO,GAAG9B,MAAM,CAAC+B,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA,YAAaC,KAAK,IAAMA,KAAK,CAACZ,iBAAiB,GAAG,OAAO,GAAG,OAAS;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAdIU,OAAO;AAgBb,MAAMG,WAAW,GAAGjC,MAAM,CAACsB,GAAI;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAAC,MALIW,WAAW;AAOjB,MAAMC,eAAe,GAAGlC,MAAM,CAAC+B,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MArBIG,eAAe;AAuBrB,MAAMC,aAAa,GAAGnC,MAAM,CAAC+B,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAbII,aAAa;AAenB,MAAMC,eAAe,GAAGpC,MAAM,CAAC+B,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAfIK,eAAe;AAiBrB,MAAMC,aAAa,GAAGrC,MAAM,CAAC+B,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC,MAnBIM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}